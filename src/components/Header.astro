---
import TextReveal from "../components/TextReveal.astro";
import SelectorIdioma from "../components/SelectorIdioma.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<header>
  <nav>
    <div
      class="max-w-screen-xl flex flex-wrap items-center justify-between p-4 mx-auto px-6"
    >
      <a
        href={lang === "es" ? "/" : "/en"}
        class="hidden md:block items-center space-x-3 rtl:space-x-reverse"
      >
        <TextReveal text="Gonzalo Iglesias" />
      </a>
      <div class="w-full md:w-auto relative transition-all" id="navbar-default">
        <ul
          class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0"
        >
          <li>
            <a
              href="#experiencia"
              class="block py-2 px-3 rounded md:bg-transparent md:p-0 md:px-2 md:py-1 text-white relative overflow-hidden group transition-transform transform origin-bottom-right"
            >
              {t("nav.experiencia")}
              <span
                class="absolute inset-0 bg-purple-700/20 transform origin-bottom-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-in-out"
              ></span>
            </a>
          </li>
          <li>
            <a
              href="#proyectos"
              class="block py-2 px-3 rounded md:bg-transparent md:p-0 md:px-2 md:py-1 text-white relative overflow-hidden group transition-transform transform origin-bottom-right"
            >
              {t("nav.proyectos")}
              <span
                class="absolute inset-0 bg-purple-700/20 transform origin-bottom-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-in-out"
              ></span>
            </a>
          </li>
          <li>
            <a
              href="#habilidades"
              class="block py-2 px-3 rounded md:bg-transparent md:p-0 md:px-2 md:py-1 text-white relative overflow-hidden group transition-transform transform origin-bottom-right"
            >
              {t("nav.habilidades")}
              <span
                class="absolute inset-0 bg-purple-700/20 transform origin-bottom-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-in-out"
              ></span>
            </a>
          </li>
          <li>
            <a
              href="#contacto"
              class="block py-2 px-3 rounded md:bg-transparent md:p-0 md:px-2 md:py-1 text-white relative overflow-hidden group transition-transform transform origin-bottom-right"
            >
              {t("nav.contacto")}
              <span
                class="absolute inset-0 bg-purple-700/20 transform origin-bottom-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300 ease-in-out"
              ></span>
            </a>
          </li>
          <SelectorIdioma />
        </ul>
      </div>
    </div>
  </nav>
</header>
